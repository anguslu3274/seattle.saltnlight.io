<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seattle Salt and Light</title>
    <!-- 添加Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Cinzel:wght@400;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        /* 添加网站标题样式 */
        .site-title {
            font-family: 'Playfair Display', 'Cinzel', serif;
            text-align: center;
            font-size: 2.25rem;
            margin-bottom: 30px;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.13);
            letter-spacing: 2px;
            font-weight: 700;
        }
        
        /* 视频容器样式 */
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        /* 视频背景样式 */
        .video-background {
            position: absolute;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            opacity: 0.75; /* 降低视频透明度使内容更易读 */
            transition: opacity 0.5s ease;
        }

        /* 更新主体样式 */
        body {
            font-family: 'Lora', serif;
            margin: 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9); /* 半透明白色背景 */
        }

        /* 更新内容容器样式 */
        .content-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5); /* 更改为50%透明度 */
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        /* 更新标签页内容区域样式 */
        .tab-content {
            display: none;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5); /* 添加50%透明度的背景 */
            border-radius: 5px;
        }

        .tab-content.active {
            display: block;
        }

        /* 更新标签按钮样式为中世纪主题 */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(204, 204, 204, 0.5);
            background: rgba(255, 255, 255, 0.5);
            border-radius: 5px 5px 0 0;
            padding: 5px;
            font-family: 'Cinzel', serif;
        }
        
        .tab-button {
            padding: 10px 20px;
            border: none;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            font-size: 16px;
            margin-right: 5px;
            border-radius: 3px;
            font-family: 'Cinzel', serif;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            border-bottom: 2px solid #007bff;
            color: #007bff;
            background: rgba(255, 255, 255, 0.7); /* 活动按钮背景稍微不那么透明 */
        }

        /* 表单样式 */
        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input, textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button[type="submit"] {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        h2 {
            font-family: 'Cinzel', serif;
            color: #333;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding-bottom: 10px;
        }

        .site-footer {
            width: 100%;
            text-align: center;
            font-size: 1.08rem;
            color: #000;
            opacity: 0.85;
            padding: 24px 0 12px 0;
            background: transparent;
            letter-spacing: 0.5px;
            font-family: 'Montserrat', Arial, sans-serif;
            user-select: none;
            z-index: 1;
            pointer-events: none; /* 不影响页面其他元素点击 */
        }
    </style>
</head>
<body>
    <!-- 更新视频背景部分，添加两个视频 -->
    <div class="video-container">
        <video id="video1" class="video-background" autoplay muted>
            <source src="assets/seattle_720.mp4" type="video/mp4">
        </video>
        <video id="video2" class="video-background" muted style="display:none;">
            <source src="assets/bible_reading.mp4" type="video/mp4">
        </video>
    </div>

    <!-- 包装所有内容 -->
    <div class="content-wrapper">
        <!-- 添加网站标题 -->
        <h1 class="site-title">Seattle Salt and Light</h1>
        
        <div class="tabs">
            <button class="tab-button active" onclick="openTab('mission')">Mission Statement</button>
            <button class="tab-button" onclick="openTab('staff')">Staff</button>
            <button class="tab-button" onclick="openTab('contact')">Contact Us</button>
        </div>

        <div id="mission" class="tab-content active">
            <h2>Our Mission</h2>
            <img src="https://images.pexels.com/photos/1181671/pexels-photo-1181671.jpeg?auto=compress&w=800&fit=crop" alt="Classroom with students and blackboard" style="width:100%;max-width:500px;border-radius:8px;margin-bottom:16px;">
            <p>
                Inspired by the transformative power of Revelation, Pastor Joshua is dedicated to teaching Bible study to believers in the Seattle area, fostering spiritual growth and understanding at no cost to participants. Supported by the generous funding of friends and family, our mission is to provide accessible, faith-centered education, empowering individuals to deepen their relationship with God and live out His Word. 
                <b>We are also committed to serving the community, sharing Christ's love through practical support, outreach, and acts of kindness, so that our faith is not only learned but lived out in service to others.</b>
            </p>
            <img src="https://images.pexels.com/photos/3185486/pexels-photo-3185486.jpeg?auto=compress&w=800&fit=crop" alt="Community serving by cleaning environment" style="width:100%;max-width:500px;border-radius:8px;margin-bottom:16px;">
        </div>

        <div id="staff" class="tab-content">
            <h2>Our Staff</h2>
            <div class="staff-members">
                <div class="staff-member">
                    <h3>Joshua Kim</h3>
                    <p>Position: President</p>
                </div>
                <div class="staff-member">
                    <h3>Oscar S</h3>
                    <p>Position: Vice President</p>
                </div>
                <div class="staff-member">
                    <h3>Angus Lu</h3>
                    <p>Position: Vice President</p>
                </div>
            </div>
        </div>

        <div id="contact" class="tab-content">
            <h2>Sign Up for Bible Training Series</h2>
            <form id="questionForm">
                <div class="form-group">
                    <label for="who">Who are you?</label>
                    <select id="who" name="who" required>
                        <option value="">-- Please select --</option>
                        <option value="General Congregation">General Congregation</option>
                        <option value="Leader/Pastor">Leader/Pastor</option>
                        <option value="Aspire to be a Leader">Aspire to be a Leader</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                <div class="form-group">
                    <label for="question">Your Question about the Bible Training Series:</label>
                    <textarea id="question" name="question" rows="4" required></textarea>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <!-- 页脚版权信息 -->
    <footer class="site-footer">
        Copyright © 2025 Seattle Salt and Light - All Rights Reserved.
    </footer>

    <script>
        function openTab(tabName) {
            // 隐藏所有标签页内容
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            // 移除所有标签按钮的活动状态
            var tabButtons = document.getElementsByClassName('tab-button');
            for (var i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            // 显示选中的标签页内容
            document.getElementById(tabName).classList.add('active');
            
            // 设置选中标签按钮的活动状态
            event.currentTarget.classList.add('active');
        }

        // Google Apps Script Web App 地址
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/1CJYCT_Qf-k-f-bp1cFSCnBpsB0kZruWB-HleoRm1A1w/exec';

        // 表单提交处理，写入 Google Sheet
        document.getElementById('questionForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // 获取表单数据
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const question = document.getElementById('question').value.trim();

            // 邮箱正则
            const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
            // 手机号正则
            const phoneRegex = /^(\+?\d{1,3}[-.\s]?)?(\(?\d{3}\)?[-.\s]?){1,2}\d{4}$/;

            // 校验邮箱
            if (!emailRegex.test(email)) {
                alert('Please enter a valid email address.');
                document.getElementById('email').focus();
                return;
            }

            // 校验手机号（允许为空，不为空时必须合法）
            if (phone && !phoneRegex.test(phone)) {
                alert('Please enter a valid phone number.');
                document.getElementById('phone').focus();
                return;
            }

            // 校验通过，准备数据
            const data = { name, email, phone, question };

            // 发送到 Google Apps Script
            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(async res => {
                let result;
                try {
                    result = await res.json();
                } catch (err) {
                    // 不是json，直接输出文本
                    const text = await res.text();
                    console.error('Response is not JSON:', text);
                    alert('Submission failed. Server response: ' + text);
                    return;
                }
                console.log('Server response:', result);
                if(result.result === "success") {
                    alert('Form submitted!');
                    document.getElementById('questionForm').reset();
                } else {
                    alert('Submission failed, server message: ' + (result.error || JSON.stringify(result)));
                }
            })
            .catch(err => {
                console.error('Fetch error:', err);
                alert('Submission failed, fetch error: ' + err.message);
            });
        });

        // 获取视频元素
        const video1 = document.getElementById('video1');
        const video2 = document.getElementById('video2');
        
        // 当第一个视频结束时，切换到第二个视频
        video1.addEventListener('ended', function() {
            // 淡出第一个视频
            fadeOut(video1, 500);
            // 显示并播放第二个视频
            video2.style.display = 'block';
            fadeIn(video2, 500);
            video2.play();
        });
        
        // 当第二个视频结束时，切换回第一个视频
        video2.addEventListener('ended', function() {
            // 淡出第二个视频
            fadeOut(video2, 500);
            // 重置并播放第一个视频
            video1.currentTime = 0;
            video1.style.display = 'block';
            fadeIn(video1, 500);
            video1.play();
        });
        
        // 淡入效果函数
        function fadeIn(element, duration) {
            element.style.opacity = 0;
            element.style.display = 'block';
            
            let opacity = 0;
            const interval = 10;
            const delta = interval / duration;
            
            const fadeInInterval = setInterval(function() {
                opacity += delta;
                element.style.opacity = Math.min(opacity, 0.5); // 最大透明度为0.5
                
                if (opacity >= 0.5) {
                    clearInterval(fadeInInterval);
                }
            }, interval);
        }
        
        // 淡出效果函数
        function fadeOut(element, duration) {
            let opacity = 0.5;
            const interval = 10;
            const delta = interval / duration;
            
            const fadeOutInterval = setInterval(function() {
                opacity -= delta;
                element.style.opacity = Math.max(opacity, 0);
                
                if (opacity <= 0) {
                    element.style.display = 'none';
                    clearInterval(fadeOutInterval);
                }
            }, interval);
        }
    </script>
</body>
</html> 
